<div class="container">
    <div id="chart_comuni_scatter_cluster_pop_pressione_pdc_pds" style="height:540px;"></div>
    <script type="text/javascript">
        var dom = document.getElementById('chart_comuni_scatter_cluster_pop_pressione_pdc_pds');
        var myChart = echarts.init(dom, null, {
            renderer: 'canvas',
            useDirtyRect: false});
        var app = {};

        var option = {
            title: {
                text: 'Pressione'},
            legend: {
                top: 10,
                data: [
                    'Comuni piccoli',
                    'Comuni medio-piccoli',
                    'Comuni medi',
                    'Rovereto',
                    'Trento'],
                textStyle: {
                    fontSize: 16}},
            xAxis: {
                type: 'value',
                name: 'da PdS',
                nameGap: 16,
                nameTextStyle: {
                    fontSize: 16},
                splitLine: {
                    show: false}},
            yAxis: {
                type: 'value',
                name: 'da PdC',
                nameLocation: 'end',
                nameGap: 20,
                nameTextStyle: {
                    fontSize: 16},
                splitLine: {
                    show: false}},
            series: [
                {
                    name: 'Comuni piccoli',
                    type: 'scatter',
                    itemStyle: {
                        opacity: 0.8,
                        shadowBlur: 10,
                        shadowOffsetX: 0,
                        shadowOffsetY: 0,
                        shadowColor: 'rgba(0,0,0,0.3)'},
                    data:
                        {{ chart_comuni_scatter_cluster_pop_pressione_pdc_pds_series.comuni_piccoli | safe }}
                },
                {
                    name: 'Comuni medio-piccoli',
                    type: 'scatter',
                    itemStyle: {
                        opacity: 0.8,
                        shadowBlur: 10,
                        shadowOffsetX: 0,
                        shadowOffsetY: 0,
                        shadowColor: 'rgba(0,0,0,0.3)'},
                    data:
                        {{ chart_comuni_scatter_cluster_pop_pressione_pdc_pds_series.comuni_medio_piccoli | safe }}
                },
                {
                    name: 'Comuni medi',
                    type: 'scatter',
                    itemStyle: {
                        opacity: 0.8,
                        shadowBlur: 10,
                        shadowOffsetX: 0,
                        shadowOffsetY: 0,
                        shadowColor: 'rgba(0,0,0,0.3)'},
                    data: 
                        {{ chart_comuni_scatter_cluster_pop_pressione_pdc_pds_series.comuni_medi | safe }}
                },
                {
                    name: 'Rovereto',
                    type: 'scatter',
                    itemStyle: {
                        opacity: 0.8,
                        shadowBlur: 10,
                        shadowOffsetX: 0,
                        shadowOffsetY: 0,
                        shadowColor: 'rgba(0,0,0,0.3)'},
                    data: 
                        {{ chart_comuni_scatter_cluster_pop_pressione_pdc_pds_series.rovereto | safe }}
                },
                {
                    name: 'Trento',
                    type: 'scatter',
                    itemStyle: {
                        opacity: 0.8,
                        shadowBlur: 10,
                        shadowOffsetX: 0,
                        shadowOffsetY: 0,
                        shadowColor: 'rgba(0,0,0,0.3)'},
                    data: 
                        {{ chart_comuni_scatter_cluster_pop_pressione_pdc_pds_series.trento | safe }}
                }],
            color: ['#80FFA5', '#00DDFF', '#37A2FF', '#FF0087', '#FFBF00'],
            grid: {
                left: '10%',
                right: 150,
                top: '18%',
                bottom: '10%'},
            tooltip: {
                backgroundColor: 'rgba(255,255,255,0.7)',
                formatter: function (param) {
                    var value = param.value;
                    return '<div style="border-bottom: 1px solid rgba(255,255,255,.3); font-size: 18px;padding-bottom: 7px;margin-bottom: 7px">'
                            + 'Comune di ' + value[8]
                            + '</div>'
                            + 'Pressione PdS: ' + value[0] + '<br>'
                            + 'Pressione PdC: ' + value[1] + '<br>'
                            + 'Popolazione: ' + value[2] + '<br>'
                            + 'Pressione: ' + value[3] + '<br>'
                            + 'Elaborazione ore/sett: ' + value[4] + '<br>'
                            + 'Pressione netta PdS: ' + value[5] + '<br>'
                            + 'Pressione netta PdC: ' + value[6] + '<br>'
                            + 'Pressione netta: ' + value[7] + '<br>';}},
            visualMap: [
                {
                    left: 'right',
                    top: '20%',
                    dimension: 3,
                    min: 0,
                    max: 10,
                    itemWidth: 30,
                    itemHeight: 120,
                    calculable: true,
                    precision: 0.1,
                    text: ['Pressione'],
                    textGap: 30,
                    inRange: {
                        symbolSize: [10, 70]},
                    outOfRange: {
                        symbolSize: [10, 70],
                        color: ['rgba(255,255,255,0.4)']},
                    controller: {
                        inRange: {
                            color: ['#c23531']},
                        outOfRange: {
                            color: ['#999']}}
                },
                {
                    left: 'right',
                    top: '40%',
                    dimension: 4,
                    min: 0,
                    max: 1000,
                    itemWidth: 30,
                    itemHeight: 120,
                    calculable: true,
                    precision: 0.1,
                    text: ['Elaborazione ore/sett'],
                    textGap: 30,
                    inRange: {
                        symbolSize: [10, 70]},
                    outOfRange: {
                        symbolSize: [10, 70],
                        color: ['rgba(255,255,255,0.4)']},
                    controller: {
                        inRange: {
                            color: ['#c23531']},
                        outOfRange: {
                            color: ['#999']}}
                },
                {
                    left: 'right',
                    bottom: '10%',
                    dimension: 2,
                    min: 0,
                    max: 39411,
                    itemHeight: 120,
                    text: ['Popolazione'],
                    textGap: 30,
                    inRange: {
                        colorLightness: [0.9, 0.5]},
                    outOfRange: {
                        color: ['rgba(255,255,255,0.4)']},
                    controller: {
                        inRange: {
                            color: ['#c23531']},
                        outOfRange: {
                            color: ['#999']}}
                }]};

        myChart.setOption(option);
        window.addEventListener('resize', myChart.resize);
    </script>
</div>
<br>
