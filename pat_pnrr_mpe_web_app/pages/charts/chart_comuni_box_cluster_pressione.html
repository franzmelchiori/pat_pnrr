<div class="container">
    <div id="chart_comuni_box_cluster_pressione" style="height:360px;"></div>
    <script type="text/javascript">
        var dom = document.getElementById('chart_comuni_box_cluster_pressione');
        var myChart = echarts.init(dom, null, {
            renderer: 'canvas',
            useDirtyRect: false});
        var app = {};

        const mpe_labels = ['2022Q1-2','2022Q3-4','2023Q1-2','2023Q3-4','2024Q1-2'];

        option = {
            title: {
                text: 'Pressione'},
            legend: {
                top: '10%'},
            xAxis: {
                type: 'category',
                boundaryGap: true,
                nameGap: 30,
                splitArea: {
                    show: true},
                splitLine: {
                    show: false}},
            yAxis: {
                type: 'value',
                min: 0,
                max: 10,
                splitArea: {
                    show: false}},
            dataset: [
                {
                source: [
                    {{ chart_comuni_box_cluster_pressione_series | safe }}[0].comuni_piccoli,
                    {{ chart_comuni_box_cluster_pressione_series | safe }}[1].comuni_piccoli,
                    {{ chart_comuni_box_cluster_pressione_series | safe }}[2].comuni_piccoli,
                    {{ chart_comuni_box_cluster_pressione_series | safe }}[3].comuni_piccoli,
                    {{ chart_comuni_box_cluster_pressione_series | safe }}[4].comuni_piccoli]
                },
                {
                source: [
                    {{ chart_comuni_box_cluster_pressione_series | safe }}[0].comuni_medio_piccoli,
                    {{ chart_comuni_box_cluster_pressione_series | safe }}[1].comuni_medio_piccoli,
                    {{ chart_comuni_box_cluster_pressione_series | safe }}[2].comuni_medio_piccoli,
                    {{ chart_comuni_box_cluster_pressione_series | safe }}[3].comuni_medio_piccoli,
                    {{ chart_comuni_box_cluster_pressione_series | safe }}[4].comuni_medio_piccoli]
                },
                {
                source: [
                    {{ chart_comuni_box_cluster_pressione_series | safe }}[0].comuni_medi,
                    {{ chart_comuni_box_cluster_pressione_series | safe }}[1].comuni_medi,
                    {{ chart_comuni_box_cluster_pressione_series | safe }}[2].comuni_medi,
                    {{ chart_comuni_box_cluster_pressione_series | safe }}[3].comuni_medi,
                    {{ chart_comuni_box_cluster_pressione_series | safe }}[4].comuni_medi]
                },
                {
                source: [
                    {{ chart_comuni_box_cluster_pressione_series | safe }}[0].rovereto,
                    {{ chart_comuni_box_cluster_pressione_series | safe }}[1].rovereto,
                    {{ chart_comuni_box_cluster_pressione_series | safe }}[2].rovereto,
                    {{ chart_comuni_box_cluster_pressione_series | safe }}[3].rovereto,
                    {{ chart_comuni_box_cluster_pressione_series | safe }}[4].rovereto]
                },
                {
                source: [
                    {{ chart_comuni_box_cluster_pressione_series | safe }}[0].trento,
                    {{ chart_comuni_box_cluster_pressione_series | safe }}[1].trento,
                    {{ chart_comuni_box_cluster_pressione_series | safe }}[2].trento,
                    {{ chart_comuni_box_cluster_pressione_series | safe }}[3].trento,
                    {{ chart_comuni_box_cluster_pressione_series | safe }}[4].trento]
                },
                {
                fromDatasetIndex: 0,
                transform: {
                    type: 'boxplot',
                    config: { itemNameFormatter: function (params) {return mpe_labels[params.value];} }}
                },
                {
                fromDatasetIndex: 1,
                transform: {
                    type: 'boxplot',
                    config: { itemNameFormatter: function (params) {return mpe_labels[params.value];} }}
                },
                {
                fromDatasetIndex: 2,
                transform: {
                    type: 'boxplot',
                    config: { itemNameFormatter: function (params) {return mpe_labels[params.value];} }}
                },
                {
                fromDatasetIndex: 3,
                transform: {
                    type: 'boxplot',
                    config: { itemNameFormatter: function (params) {return mpe_labels[params.value];} }}
                },
                {
                fromDatasetIndex: 4,
                transform: {
                    type: 'boxplot',
                    config: { itemNameFormatter: function (params) {return mpe_labels[params.value];} }}
                }
            ],
            series: [{
                name: 'Cluster 130 comuni',
                type: 'boxplot',
                datasetIndex: 5},{
                name: 'Cluster 31 comuni',
                type: 'boxplot',
                datasetIndex: 6},{
                name: 'Cluster 3 comuni',
                type: 'boxplot',
                datasetIndex: 7},{
                name: 'Rovereto',
                type: 'boxplot',
                datasetIndex: 8},{
                name: 'Trento',
                type: 'boxplot',
                datasetIndex: 9}],
            color: ['#80FFA5', '#00DDFF', '#37A2FF', '#FF0087', '#FFBF00'],
            grid: {
                left: '10%',
                top: '20%',
                right: '10%',
                bottom: '15%'},
            tooltip: {
                trigger: 'item',
                axisPointer: {
                    type: 'shadow'}},
            toolbox: {
                feature: {
                    restore: {},
                    saveAsImage: {}}}};

        myChart.setOption(option);
        window.addEventListener('resize', myChart.resize);
    </script>
</div>
<br>
