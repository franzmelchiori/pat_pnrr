<div class="container">
    <div id="chart_comuni_pie_rank_pop_pressione_timelapse" style="height:720px;"></div>
    <script type="text/javascript">
        var dom = document.getElementById('chart_comuni_pie_rank_pop_pressione_timelapse');
        var myChart = echarts.init(dom, null, {
            renderer: 'canvas',
            useDirtyRect: false});
        var app = {};

        // const colorRankingData = (score) => {
        //     if (score < 1.421) {
        //         return '#80ff51';
        //     } else if (score < 4.264) {
        //         return '#ffee51';
        //     } else if (score < 7.106) {
        //         return '#ff715e';
        //     } return '#715c87';};

        var option = {
            baseOption: {
                title: {
                    text: 'Pressione'},
                tooltip: {
                    trigger: 'item'},
                series: [{
                    type: 'pie',
                    center: ['50%', '60%'],
                    radius: ['70%', '100%'],
                    startAngle: 225,
                    endAngle: -45,
                    itemStyle: {
                        borderWidth: 1,
                        borderRadius: 5,
                        borderColor: 'white'},
                    data: [
                        { value: 1, name: 'bla1', itemStyle: {color: colorRankingData(1)} },
                        { value: 4, name: 'bla2', itemStyle: {color: colorRankingData(4)} },
                        { value: 6, name: 'bla3', itemStyle: {color: colorRankingData(6)} },
                        { value: 8, name: 'bla4', itemStyle: {color: colorRankingData(8)} }]}],
                toolbox: {
                    show: true,
                    feature: {
                        saveAsImage: {}}},
                timeline: {
                    axisType: 'category',
                    orient: 'vertical',
                    autoPlay: true,
                    inverse: true,
                    playInterval: 1000,
                    left: null,
                    right: 0,
                    top: 75,
                    bottom: 75,
                    width: 85,
                    height: null,
                    symbol: 'none',
                    checkpointStyle: {
                        borderWidth: 2},
                    controlStyle: {
                        showNextBtn: false,
                        showPrevBtn: false},
                    data: ['2022Q1-2', '2022Q3-4', '2023Q1-2', '2023Q3-4', '2024Q1-2']},
                animationDurationUpdate: 1000,
                animationEasingUpdate: 'quinticInOut'},
            options: [{
                series: [{
                    type: 'pie',
                    center: ['50%', '60%'],
                    radius: ['70%', '100%'],
                    startAngle: 225,
                    endAngle: -45,
                    itemStyle: {
                        borderWidth: 1,
                        borderRadius: 5,
                        borderColor: 'white'},
                    data: [
                        { value: 1, name: 'bla1', itemStyle: {color: colorRankingData(1)} },
                        { value: 4, name: 'bla2', itemStyle: {color: colorRankingData(4)} },
                        { value: 6, name: 'bla3', itemStyle: {color: colorRankingData(6)} },
                        { value: 8, name: 'bla4', itemStyle: {color: colorRankingData(8)} }]}]},{
                series: [{
                    type: 'pie',
                    center: ['50%', '60%'],
                    radius: ['70%', '100%'],
                    startAngle: 225,
                    endAngle: -45,
                    itemStyle: {
                        borderWidth: 1,
                        borderRadius: 5,
                        borderColor: 'white'},
                    data: [
                        { value: 4, name: 'bla2', itemStyle: {color: colorRankingData(1)} },
                        { value: 1, name: 'bla1', itemStyle: {color: colorRankingData(4)} },
                        { value: 6, name: 'bla3', itemStyle: {color: colorRankingData(6)} },
                        { value: 8, name: 'bla4', itemStyle: {color: colorRankingData(8)} }]}]}]};

        myChart.setOption(option);
        window.addEventListener('resize', myChart.resize);
    </script>
</div>
<br>
